<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web2PDF/IMG Pro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        body { background: #f4f7f6; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .converter-card { max-width: 600px; margin: 100px auto; border: none; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .btn-convert { border-radius: 10px; padding: 12px; font-weight: bold; transition: 0.3s; }
        .loading-spinner { display: none; }
    </style>
</head>
<body>

<div class="container">
    <div class="card converter-card animate__animated animate__fadeInDown">
        <div class="card-body p-5">
            <h2 class="text-center mb-4 text-primary">Web Converter Pro</h2>
            <div class="mb-3">
                <label class="form-label">Enter Website URL</label>
                <input type="url" id="targetUrl" class="form-control" placeholder="https://example.com" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Export Format</label>
                <select id="type" class="form-select">
                    <option value="pdf">PDF (A4 - Print Style)</option>
                    <option value="png">PNG Image (Full Page)</option>
                </select>
            </div>
            <button onclick="convert()" id="convertBtn" class="btn btn-primary w-100 btn-convert">
                Convert Now
            </button>
            
            <div id="loader" class="text-center mt-4 loading-spinner">
                <div class="spinner-border text-primary" role="status"></div>
                <p class="mt-2">Processing... Please wait, it takes a few seconds.</p>
            </div>
        </div>
    </div>
</div>

<script>
    function convert() {
        const url = document.getElementById('targetUrl').value;
        const type = document.getElementById('type').value;
        
        if(!url) { alert("Please enter a URL"); return; }

        const loader = document.getElementById('loader');
        const btn = document.getElementById('convertBtn');
        
        loader.style.display = 'block';
        btn.disabled = true;

        const apiUrl = `/convert?type=${type}&url=${encodeURIComponent(url)}`;
        
        // সরাসরি নতুন ট্যাবে ওপেন হবে ডাউনলোড এর জন্য
        window.open(apiUrl, '_blank');

        setTimeout(() => {
            loader.style.display = 'none';
            btn.disabled = false;
        }, 5000);
    }
</script>
</body>
</html>
